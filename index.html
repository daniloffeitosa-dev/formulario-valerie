<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Cl√≠nica Valerie</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Cores da Valerie */
            --color-primary: #B88D5A;
            --color-primary-light: #D4B896;
            --color-primary-dark: #9A7548;
            --color-background: #FDFCFB;
            --color-card: #FFFFFF;
            --color-text: #525356;
            --color-text-light: #7e8186;
            --color-text-muted: #A8A8A8;
            --color-border: #E8E4DF;
            --color-error: #C9545A;
            --color-success: #6B9E78;
            
            /* Tipografia */
            --font-display: 'Cormorant Garamond', serif;
            --font-body: 'Open Sans', sans-serif;
            
            /* Espa√ßamentos */
            --spacing-xs: 8px;
            --spacing-sm: 12px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-xxl: 48px;
            
            /* Bordas */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            font-weight: 400;
            font-size: 14px;
            color: var(--color-text);
            background: var(--color-background);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 520px;
            margin: 0 auto;
            padding: var(--spacing-lg);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            text-align: center;
            padding: var(--spacing-xl) 0;
        }

        .logo {
            width: 180px;
            height: auto;
            margin-bottom: var(--spacing-md);
        }

        .header-subtitle {
            font-family: var(--font-body);
            font-size: 13px;
            font-weight: 300;
            color: var(--color-text-light);
            letter-spacing: 0.5px;
            max-width: 320px;
            margin: 0 auto;
        }

        /* Progress */
        .progress {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-lg) 0;
            margin-bottom: var(--spacing-md);
        }

        .progress-step {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: 12px;
            color: var(--color-text-muted);
            transition: all 0.3s ease;
        }

        .progress-step.active {
            color: var(--color-primary);
        }

        .progress-step.completed {
            color: var(--color-primary);
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--color-border);
            transition: all 0.3s ease;
        }

        .progress-step.active .step-dot {
            background: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(184, 141, 90, 0.2);
        }

        .progress-step.completed .step-dot {
            background: var(--color-primary);
        }

        .progress-line {
            width: 40px;
            height: 1px;
            background: var(--color-border);
        }

        .progress-line.completed {
            background: var(--color-primary);
        }

        /* Card */
        .card {
            background: var(--color-card);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        /* Form Sections */
        .form-section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .form-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-family: var(--font-display);
            font-size: 24px;
            font-weight: 500;
            color: var(--color-text);
            margin-bottom: var(--spacing-lg);
            letter-spacing: 0.5px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        .form-group label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: var(--color-text);
            margin-bottom: var(--spacing-xs);
        }

        .form-group label .required {
            color: var(--color-primary);
            margin-left: 2px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            font-family: var(--font-body);
            font-size: 14px;
            color: var(--color-text);
            background: var(--color-card);
            transition: all 0.2s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(184, 141, 90, 0.1);
        }

        .form-group input::placeholder {
            color: var(--color-text-muted);
            font-weight: 300;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
        }

        /* File Upload */
        .file-upload {
            border: 1px dashed var(--color-border);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            background: var(--color-background);
        }

        .file-upload:hover {
            border-color: var(--color-primary);
            background: rgba(184, 141, 90, 0.02);
        }

        .file-upload.has-file {
            border-color: var(--color-success);
            border-style: solid;
            background: rgba(107, 158, 120, 0.05);
        }

        .file-upload input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .file-upload-icon {
            font-size: 24px;
            margin-bottom: var(--spacing-xs);
            color: var(--color-primary);
        }

        .file-upload-text {
            font-size: 13px;
            color: var(--color-text-light);
        }

        .file-upload-text span {
            color: var(--color-primary);
            font-weight: 500;
        }

        .file-name {
            margin-top: var(--spacing-xs);
            font-size: 12px;
            color: var(--color-success);
            font-weight: 500;
        }

        /* Radio Group */
        .radio-group {
            display: flex;
            gap: var(--spacing-lg);
            margin-top: var(--spacing-xs);
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            cursor: pointer;
            font-size: 14px;
        }

        .radio-option input[type="radio"] {
            width: 16px;
            height: 16px;
            accent-color: var(--color-primary);
        }

        /* Buttons */
        .buttons {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-xl);
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--color-border);
        }

        .btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-md);
            font-family: var(--font-body);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            height: 48px;
        }

        .btn-back {
            background: transparent;
            color: var(--color-text-light);
            border: 1px solid var(--color-border);
        }

        .btn-back:hover {
            background: var(--color-background);
            border-color: var(--color-text-light);
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            background: var(--color-primary-dark);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Success */
        .success-content {
            text-align: center;
            padding: var(--spacing-xl) 0;
        }

        .success-icon {
            width: 64px;
            height: 64px;
            background: var(--color-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--spacing-lg);
            font-size: 28px;
            color: white;
        }

        .success-content h2 {
            font-family: var(--font-display);
            font-size: 28px;
            font-weight: 500;
            color: var(--color-text);
            margin-bottom: var(--spacing-sm);
        }

        .success-content p {
            color: var(--color-text-light);
            font-size: 14px;
        }

        /* Webhook Config (dev only) */
        .webhook-config {
            background: #FFF9F0;
            border: 1px solid var(--color-primary-light);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .webhook-config label {
            font-size: 12px;
            color: var(--color-primary-dark);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .webhook-config input {
            margin-top: var(--spacing-xs);
            font-size: 12px;
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
            margin-right: var(--spacing-xs);
            vertical-align: middle;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 540px) {
            .container {
                padding: var(--spacing-md);
            }

            .card {
                padding: var(--spacing-lg);
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .progress-step span {
                display: none;
            }

            .buttons {
                flex-direction: column;
            }

            .btn-back {
                order: 2;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <!-- Logo SVG inline -->
            <svg class="logo" viewBox="0 0 1934 1247" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1222.85 -0.00390625L1367.96 137.917L1129.55 449.384L1276.02 169.759L998.798 578.876L1222.85 137.917H1276.02L1200.27 67.6322H762.875L687.122 137.917H740.293L964.342 578.876L687.122 169.759L833.594 449.384L595.183 137.917L740.293 -0.00390625H1222.85Z" fill="#B88D5A"/>
                <path d="M40.0138 1246.23C35.0948 1246.23 30.4651 1245.36 26.9928 1244.2C13.1037 1239 0.37207 1228.87 0.37207 1197.33C0.37207 1124.12 47.8265 993.911 146.497 749.695C178.615 670.7 187.007 642.344 191.058 638.293C195.109 634.242 200.606 631.927 206.394 631.927C215.364 631.927 226.07 637.714 226.07 648.42C226.07 668.675 197.134 751.141 145.339 883.666C63.4517 1093.45 42.0393 1165.5 42.0393 1203.12C42.0393 1214.4 42.3287 1215.85 44.9329 1215.85C49.5626 1215.85 61.4262 1209.19 75.894 1198.2C98.1744 1180.84 159.807 1118.04 228.963 1041.94C511.375 731.176 630.589 638.582 683.542 638.582C695.984 638.582 709.005 642.633 709.005 646.684C709.005 648.709 706.111 650.735 699.746 651.892C643.032 662.309 513.4 783.549 283.652 1036.16C148.812 1184.31 90.0724 1246.23 40.0138 1246.23Z" fill="#B88D5A"/>
                <path d="M787.71 995.937C779.319 995.937 769.48 995.358 765.429 993.911C740.545 986.098 722.894 967.001 717.686 942.984C717.107 939.801 716.818 934.593 716.818 928.806C716.818 907.394 718.843 909.13 718.843 905.657C718.843 905.368 718.843 905.079 718.554 905.079C717.107 905.079 711.32 910.577 700.614 921.572C663.865 958.61 628.564 985.23 598.471 985.23C562.591 985.23 548.412 958.61 548.412 927.359C548.412 877.011 600.786 822.902 658.657 811.906C667.627 810.17 676.308 809.302 684.41 809.302C718.843 809.302 733.311 820.008 753.855 842.289C770.348 826.374 779.608 817.115 793.497 817.115C802.467 817.115 812.594 824.059 812.594 831.582C812.594 836.212 808.833 842.867 795.812 862.833C773.531 897.266 762.247 925.623 762.247 945.878C762.247 966.422 774.11 978.865 794.944 978.865C824.169 978.865 867.283 962.082 921.392 919.257C931.809 911.155 940.779 904.211 941.647 904.211C942.515 904.211 943.962 905.368 945.12 906.526L945.409 907.104C945.409 912.891 900.848 950.508 873.938 966.712C841.53 986.388 813.752 995.937 787.71 995.937ZM602.233 969.605C620.751 969.605 652.002 950.797 695.695 910.287C720.579 887.428 727.524 879.615 737.651 863.99L744.306 853.573C727.524 845.761 714.213 839.106 696.852 839.106C655.474 839.106 614.386 868.909 591.526 916.074C585.161 929.385 584.871 930.542 584.871 945.299V960.635C590.658 965.844 593.841 969.605 602.233 969.605Z" fill="#B88D5A"/>
                <path d="M973.187 995.937C970.294 995.937 967.4 995.647 964.796 995.358C950.328 993.332 938.754 983.784 931.23 967.58C927.469 959.767 927.179 957.452 927.179 938.933C927.179 888.585 958.141 823.48 1038 706.291C1093.85 624.403 1167.34 532.099 1185.57 521.682C1189.91 519.078 1194.26 517.92 1198.6 517.92C1204.96 517.92 1215.67 523.129 1215.67 530.363C1215.67 534.414 1212.2 540.49 1203.23 552.064C1066.94 726.546 959.009 885.403 959.009 958.031C959.009 976.839 966.243 983.205 978.685 983.205C987.076 983.205 998.65 979.733 1013.41 972.788C1052.18 954.848 1123.07 890.322 1127.12 890.322C1128.28 890.322 1129.44 891.768 1129.44 892.926C1129.44 895.53 1084.01 936.04 1059.13 955.716C1025.56 982.337 996.625 995.937 973.187 995.937Z" fill="#B88D5A"/>
                <path d="M1176.89 987.256C1132.91 987.256 1098.48 960.056 1098.48 920.125C1098.48 870.356 1144.78 810.17 1186.15 810.17C1204.09 810.17 1219.14 818.851 1219.14 838.527C1219.14 866.594 1186.44 899.292 1142.46 909.708C1140.15 910.287 1137.25 923.887 1137.25 934.593C1137.25 961.793 1160.69 972.788 1187.6 972.788C1220.59 972.788 1266.88 947.035 1310.87 912.313C1319.84 905.079 1324.75 901.896 1327.36 901.896C1327.94 901.896 1329.96 902.475 1329.96 904.211C1329.96 907.683 1305.66 928.227 1279.33 947.035C1237.37 977.418 1204.67 987.256 1176.89 987.256ZM1145.35 901.028C1146.22 901.028 1153.46 898.134 1161.27 894.373C1185.86 882.22 1202.94 862.254 1202.94 847.786C1202.94 841.42 1198.6 835.923 1195.99 835.923C1191.94 835.923 1173.13 850.969 1160.98 869.199C1153.17 880.773 1145.06 896.977 1145.06 900.449C1145.06 900.738 1145.06 901.028 1145.35 901.028Z" fill="#B88D5A"/>
                <path d="M1380.6 995.937C1374.52 995.937 1369.03 995.068 1363.82 993.622C1345.59 987.835 1335.17 973.656 1335.17 954.848C1335.17 930.831 1350.8 906.236 1388.12 871.224C1398.83 861.097 1407.51 851.837 1407.51 850.969C1407.51 846.05 1380.31 852.995 1380.31 830.714C1380.31 827.821 1381.18 824.348 1382.63 820.587C1383.49 818.561 1399.41 790.204 1420.24 790.204C1432.68 790.204 1439.63 796.281 1439.63 804.383C1439.63 817.404 1414.45 837.08 1414.45 837.948C1414.45 838.238 1417.64 838.527 1421.11 838.527C1434.42 839.106 1447.44 847.497 1447.44 858.492C1447.44 868.909 1437.31 883.088 1413.88 907.104C1376.26 945.589 1366.42 961.214 1366.42 971.92C1366.42 979.443 1372.79 982.916 1386.1 982.916C1413.3 982.916 1451.2 967.001 1523.54 918.678C1551.03 900.16 1550.74 900.16 1551.9 900.16C1553.92 900.16 1555.66 901.028 1555.66 902.185C1555.66 904.5 1550.16 908.84 1532.22 921.572C1461.33 972.499 1413.3 995.937 1380.6 995.937Z" fill="#B88D5A"/>
                <path d="M1584.6 995.937C1578.23 995.937 1572.15 995.068 1566.08 993.043C1551.61 988.413 1540.61 978.865 1533.96 964.975C1530.2 957.452 1529.91 954.848 1529.91 938.644C1529.91 883.666 1575.92 828.399 1597.04 828.399C1606.01 828.399 1614.69 833.318 1614.69 840.263C1614.69 844.893 1612.37 849.522 1599.93 868.331C1573.02 909.419 1565.21 935.751 1565.21 956.874C1565.21 971.92 1571.58 981.758 1591.25 981.758C1639.28 981.758 1714.81 895.819 1723.49 895.819C1724.64 895.819 1725.22 896.977 1725.22 898.713C1725.22 901.317 1681.53 944.142 1666.19 956.584C1633.5 983.205 1607.46 995.937 1584.6 995.937ZM1630.6 803.225C1626.55 803.225 1621.63 802.068 1619.61 800.911C1617.29 799.174 1615.85 796.57 1615.85 793.387C1615.85 779.498 1638.42 752.299 1651.44 752.299C1658.67 752.299 1667.06 756.928 1667.06 763.873C1667.06 774.579 1645.07 803.225 1630.6 803.225Z" fill="#B88D5A"/>
                <path d="M1780.49 987.256C1736.51 987.256 1702.07 960.056 1702.07 920.125C1702.07 870.356 1748.37 810.17 1789.75 810.17C1807.69 810.17 1822.74 818.851 1822.74 838.527C1822.74 866.594 1790.04 899.292 1746.06 909.708C1743.74 910.287 1740.85 923.887 1740.85 934.593C1740.85 961.793 1764.29 972.788 1791.2 972.788C1824.18 972.788 1870.48 947.035 1914.46 912.313C1923.43 905.079 1928.35 901.896 1930.96 901.896C1931.53 901.896 1933.56 902.475 1933.56 904.211C1933.56 907.683 1909.25 928.227 1882.92 947.035C1840.97 977.418 1808.27 987.256 1780.49 987.256ZM1748.95 901.028C1749.82 901.028 1757.05 898.134 1764.87 894.373C1789.46 882.22 1806.53 862.254 1806.53 847.786C1806.53 841.42 1802.19 835.923 1799.59 835.923C1795.54 835.923 1776.73 850.969 1764.58 869.199C1756.76 880.773 1748.66 896.977 1748.66 900.449C1748.66 900.738 1748.66 901.028 1748.95 901.028Z" fill="#B88D5A"/>
                <path d="M214.007 557.506C208.318 557.506 203.305 556.267 198.968 553.789C194.688 551.254 191.336 547.762 188.915 543.313C186.549 538.863 185.366 533.738 185.366 527.937C185.366 523.656 186.07 519.742 187.478 516.193C188.943 512.589 190.942 509.463 193.477 506.816C196.068 504.168 199.081 502.113 202.517 500.648C206.009 499.184 209.81 498.452 213.922 498.452C216.231 498.452 218.822 498.733 221.695 499.296C224.567 499.803 227.411 500.873 230.228 502.507L230.566 514.757H225.327L223.638 504.957C222.117 504.112 220.624 503.521 219.16 503.183C217.752 502.845 216.372 502.676 215.02 502.676C211.247 502.676 207.811 503.633 204.713 505.548C201.615 507.463 199.137 510.308 197.279 514.081C195.476 517.799 194.575 522.417 194.575 527.937C194.575 533.456 195.42 538.103 197.11 541.877C198.799 545.65 201.137 548.495 204.122 550.41C207.163 552.325 210.599 553.282 214.429 553.282C216.062 553.282 217.724 553.113 219.414 552.775C221.16 552.381 222.849 551.79 224.483 551.001L226.172 541.201H231.41L231.072 553.451C228.482 554.859 225.722 555.873 222.793 556.493C219.92 557.168 216.992 557.506 214.007 557.506Z" fill="#B88D5A"/>
                <path d="M282.343 503.183V499.719H306.252V503.183L298.479 504.112C298.423 507.717 298.367 511.35 298.31 515.011C298.31 518.615 298.31 522.248 298.31 525.909V531.738C298.31 534.724 298.31 537.962 298.31 541.454C298.367 544.89 298.423 548.41 298.479 552.015H317.657L320.107 540.356H325.261L324.416 556.239H282.343V552.775L290.115 551.846C290.228 548.185 290.284 544.552 290.284 540.947C290.284 537.343 290.284 533.738 290.284 530.133V525.909C290.284 522.248 290.284 518.587 290.284 514.926C290.284 511.265 290.228 507.66 290.115 504.112L282.343 503.183Z" fill="#B88D5A"/>
                <path d="M375.035 503.183V499.719H398.944V503.183L391.172 504.112C391.115 507.66 391.059 511.265 391.003 514.926C391.003 518.587 391.003 522.248 391.003 525.909V530.049C391.003 533.653 391.003 537.286 391.003 540.947C391.059 544.552 391.115 548.185 391.172 551.846L398.944 552.775V556.239H375.035V552.775L382.808 551.846C382.92 548.297 382.977 544.693 382.977 541.032C382.977 537.371 382.977 533.71 382.977 530.049V525.909C382.977 522.248 382.977 518.615 382.977 515.011C382.977 511.35 382.92 507.717 382.808 504.112L375.035 503.183ZM382.977 493.298C385.567 490.538 388.215 487.891 390.918 485.356C392.101 484.174 393.086 483.357 393.875 482.906C394.664 482.399 395.424 482.146 396.156 482.146C397.057 482.146 397.818 482.428 398.437 482.991C399.057 483.498 399.367 484.174 399.367 485.018C399.367 485.751 399.057 486.483 398.437 487.215C397.874 487.947 396.776 488.764 395.142 489.665C393.396 490.623 391.622 491.58 389.82 492.538C388.074 493.495 386.3 494.453 384.497 495.41L382.977 493.298Z" fill="#B88D5A"/>
                <path d="M484.957 503.183V499.719H505.318V503.183L498.137 504.281V556.83H495.18L461.386 510.786V551.592L470.342 552.775V556.239H449.896V552.775L457.077 551.761V504.872L456.317 503.859L450.319 503.183V499.719H463.329L493.828 541.623V504.281L484.957 503.183Z" fill="#B88D5A"/>
                <path d="M555.552 503.183V499.719H579.461V503.183L571.688 504.112C571.632 507.66 571.576 511.265 571.519 514.926C571.519 518.587 571.519 522.248 571.519 525.909V530.049C571.519 533.653 571.519 537.286 571.519 540.947C571.576 544.552 571.632 548.185 571.688 551.846L579.461 552.775V556.239H555.552V552.775L563.324 551.846C563.437 548.297 563.493 544.693 563.493 541.032C563.493 537.371 563.493 533.71 563.493 530.049V525.909C563.493 522.248 563.493 518.615 563.493 515.011C563.493 511.35 563.437 507.717 563.324 504.112L555.552 503.183Z" fill="#B88D5A"/>
                <path d="M657.667 557.506C651.978 557.506 646.965 556.267 642.628 553.789C638.348 551.254 634.996 547.762 632.575 543.313C630.209 538.863 629.026 533.738 629.026 527.937C629.026 523.656 629.73 519.742 631.138 516.193C632.603 512.589 634.602 509.463 637.137 506.816C639.728 504.168 642.741 502.113 646.177 500.648C649.669 499.184 653.47 498.452 657.582 498.452C659.891 498.452 662.482 498.733 665.355 499.296C668.227 499.803 671.071 500.873 673.888 502.507L674.226 514.757H668.987L667.298 504.957C665.777 504.112 664.284 503.521 662.82 503.183C661.412 502.845 660.032 502.676 658.68 502.676C654.907 502.676 651.471 503.633 648.373 505.548C645.275 507.463 642.797 510.308 640.939 514.081C639.136 517.799 638.235 522.417 638.235 527.937C638.235 533.456 639.08 538.103 640.77 541.877C642.459 545.65 644.797 548.495 647.782 550.41C650.823 552.325 654.259 553.282 658.089 553.282C659.722 553.282 661.384 553.113 663.074 552.775C664.82 552.381 666.509 551.79 668.143 551.001L669.832 541.201H675.07L674.732 553.451C672.142 554.859 669.382 555.873 666.453 556.493C663.58 557.168 660.652 557.506 657.667 557.506Z" fill="#B88D5A"/>
                <path d="M748.391 508.759L739.858 533.935H756.84L748.391 508.759ZM722.708 556.239V552.775L729.805 551.677L747.8 499.296H753.122L771.117 552.015L777.454 552.775V556.239H754.474V552.775L762.754 551.761L758.107 537.906H738.506L733.775 551.677L742.055 552.775V556.239H722.708Z" fill="#B88D5A"/>
            </svg>
            <p class="header-subtitle">Preencha seus dados com aten√ß√£o para garantir um atendimento seguro e personalizado.</p>
        </header>

        <!-- Progress -->
        <div class="progress">
            <div class="progress-step active" data-step="1">
                <span class="step-dot"></span>
                <span>Dados Pessoais</span>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="2">
                <span class="step-dot"></span>
                <span>Endere√ßo</span>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="3">
                <span class="step-dot"></span>
                <span>Sa√∫de</span>
            </div>
        </div>

        <div class="card">
            <form id="cadastroForm">
                <!-- ETAPA 1: Dados Pessoais -->
                <div class="form-section active" data-section="1">
                    <h2 class="section-title">Dados Pessoais</h2>

                    <!-- Webhook Config (oculto) -->
                    <div class="webhook-config" style="display:none;">
                        <label>‚öôÔ∏è URL do Webhook (n8n)</label>
                        <input type="url" id="webhookUrl" value="https://n8n.merkhet.com.br/webhook/formulario-valerie" placeholder="https://seu-n8n.com/webhook/xxxxx">
                    </div>

                    <div class="form-group">
                        <label>Nome Completo <span class="required">*</span></label>
                        <input type="text" name="nome_completo" required placeholder="Digite seu nome completo">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Estado Civil <span class="required">*</span></label>
                            <select name="estado_civil" required>
                                <option value="">Selecione...</option>
                                <option value="Solteira(o)">Solteira(o)</option>
                                <option value="Casada(o)">Casada(o)</option>
                                <option value="Divorciada(o)">Divorciada(o)</option>
                                <option value="Vi√∫va(o)">Vi√∫va(o)</option>
                                <option value="Uni√£o Est√°vel">Uni√£o Est√°vel</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Profiss√£o <span class="required">*</span></label>
                            <input type="text" name="profissao" required placeholder="Sua profiss√£o">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>CPF <span class="required">*</span></label>
                        <input type="text" name="cpf" id="cpf" required placeholder="000.000.000-00" maxlength="14">
                    </div>

                    <div class="form-group">
                        <label>Documento (RG ou CNH) <span class="required">*</span></label>
                        <div class="file-upload" id="fileUpload1">
                            <div class="file-upload-icon">üìÑ</div>
                            <div class="file-upload-text"><span>Clique para selecionar</span> ou arraste</div>
                            <div class="file-name" id="fileName1"></div>
                            <input type="file" name="documento" id="documento" required accept="image/*,.pdf">
                        </div>
                    </div>

                    <div class="buttons">
                        <button type="button" class="btn btn-primary" onclick="nextStep(1)">Continuar</button>
                    </div>
                </div>

                <!-- ETAPA 2: Endere√ßo -->
                <div class="form-section" data-section="2">
                    <h2 class="section-title">Endere√ßo e Contato</h2>

                    <div class="form-group">
                        <label>Endere√ßo Completo <span class="required">*</span></label>
                        <input type="text" name="endereco" required placeholder="Rua, n√∫mero, complemento">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Cidade <span class="required">*</span></label>
                            <input type="text" name="cidade" required placeholder="Sua cidade">
                        </div>
                        <div class="form-group">
                            <label>Estado <span class="required">*</span></label>
                            <select name="estado" required>
                                <option value="">UF</option>
                                <option value="AC">AC</option>
                                <option value="AL">AL</option>
                                <option value="AP">AP</option>
                                <option value="AM">AM</option>
                                <option value="BA">BA</option>
                                <option value="CE">CE</option>
                                <option value="DF">DF</option>
                                <option value="ES">ES</option>
                                <option value="GO">GO</option>
                                <option value="MA">MA</option>
                                <option value="MT">MT</option>
                                <option value="MS">MS</option>
                                <option value="MG">MG</option>
                                <option value="PA">PA</option>
                                <option value="PB">PB</option>
                                <option value="PR">PR</option>
                                <option value="PE">PE</option>
                                <option value="PI">PI</option>
                                <option value="RJ">RJ</option>
                                <option value="RN">RN</option>
                                <option value="RS">RS</option>
                                <option value="RO">RO</option>
                                <option value="RR">RR</option>
                                <option value="SC">SC</option>
                                <option value="SP">SP</option>
                                <option value="SE">SE</option>
                                <option value="TO">TO</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>CEP <span class="required">*</span></label>
                            <input type="text" name="cep" id="cep" required placeholder="00000-000" maxlength="9">
                        </div>
                        <div class="form-group">
                            <label>WhatsApp <span class="required">*</span></label>
                            <input type="text" name="whatsapp" id="whatsapp" required placeholder="(00) 00000-0000" maxlength="15">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>E-mail <span class="required">*</span></label>
                        <input type="email" name="email" required placeholder="seu@email.com">
                    </div>

                    <div class="form-group">
                        <label>Comprovante de Resid√™ncia <span class="required">*</span></label>
                        <div class="file-upload" id="fileUpload2">
                            <div class="file-upload-icon">üìÑ</div>
                            <div class="file-upload-text"><span>Clique para selecionar</span> ou arraste</div>
                            <div class="file-name" id="fileName2"></div>
                            <input type="file" name="comprovante_residencia" id="comprovante_residencia" required accept="image/*,.pdf">
                        </div>
                    </div>

                    <div class="buttons">
                        <button type="button" class="btn btn-back" onclick="prevStep(2)">Voltar</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep(2)">Continuar</button>
                    </div>
                </div>

                <!-- ETAPA 3: Sa√∫de -->
                <div class="form-section" data-section="3">
                    <h2 class="section-title">Informa√ß√µes de Sa√∫de</h2>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Peso (kg) <span class="required">*</span></label>
                            <input type="text" name="peso" required placeholder="Ex: 55">
                        </div>
                        <div class="form-group">
                            <label>Altura (cm) <span class="required">*</span></label>
                            <input type="text" name="altura" required placeholder="Ex: 155">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Possui alguma doen√ßa? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="possui_doenca" value="N√£o" required> N√£o
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="possui_doenca" value="Sim"> Sim
                            </label>
                        </div>
                    </div>

                    <div class="form-group conditional" id="doenca_desc_group" style="display:none;">
                        <label>Descreva:</label>
                        <textarea name="doenca_descricao" placeholder="Ex: hipertens√£o, diabetes..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Possui alguma alergia? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="possui_alergia" value="N√£o" required> N√£o
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="possui_alergia" value="Sim"> Sim
                            </label>
                        </div>
                    </div>

                    <div class="form-group conditional" id="alergia_desc_group" style="display:none;">
                        <label>Descreva:</label>
                        <textarea name="alergia_descricao" placeholder="Ex: medicamentos, alimentos..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Faz uso de alguma medica√ß√£o di√°ria? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="usa_medicacao" value="N√£o" required> N√£o
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="usa_medicacao" value="Sim"> Sim
                            </label>
                        </div>
                    </div>

                    <div class="form-group conditional" id="medicacao_desc_group" style="display:none;">
                        <label>Quais medica√ß√µes?</label>
                        <textarea name="medicacao_descricao" placeholder="Ex: Losartana, Metformina, Puran..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>√â tabagista? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="tabagista" value="N√£o" required> N√£o
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="tabagista" value="Sim"> Sim
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>√â usu√°rio(a) de drogas? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="usuario_drogas" value="N√£o" required> N√£o
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="usuario_drogas" value="Sim"> Sim
                            </label>
                        </div>
                    </div>

                    <div class="form-group conditional" id="drogas_desc_group" style="display:none;">
                        <label>Descreva:</label>
                        <textarea name="drogas_descricao" placeholder="Descreva..."></textarea>
                    </div>

                    <div class="buttons">
                        <button type="button" class="btn btn-back" onclick="prevStep(3)">Voltar</button>
                        <button type="submit" class="btn btn-primary" id="submitBtn">Enviar Cadastro</button>
                    </div>
                </div>

                <!-- Sucesso -->
                <div class="form-section" data-section="success">
                    <div class="success-content">
                        <div class="success-icon">‚úì</div>
                        <h2>Cadastro Enviado</h2>
                        <p>Obrigado pelas informa√ß√µes.<br>Entraremos em contato em breve.</p>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        // M√°scaras
        document.getElementById('cpf').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '').slice(0, 11);
            if (v.length > 9) v = v.replace(/(\d{3})(\d{3})(\d{3})(\d{1,2})/, '$1.$2.$3-$4');
            else if (v.length > 6) v = v.replace(/(\d{3})(\d{3})(\d{1,3})/, '$1.$2.$3');
            else if (v.length > 3) v = v.replace(/(\d{3})(\d{1,3})/, '$1.$2');
            e.target.value = v;
        });

        document.getElementById('cep').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '').slice(0, 8);
            if (v.length > 5) v = v.replace(/(\d{5})(\d{1,3})/, '$1-$2');
            e.target.value = v;
        });

        document.getElementById('whatsapp').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '').slice(0, 11);
            if (v.length > 10) v = v.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            else if (v.length > 6) v = v.replace(/(\d{2})(\d{4,5})(\d{0,4})/, '($1) $2-$3');
            else if (v.length > 2) v = v.replace(/(\d{2})(\d{0,5})/, '($1) $2');
            else if (v.length > 0) v = '(' + v;
            e.target.value = v;
        });

        // Navega√ß√£o
       function nextStep(step) {
    const section = document.querySelector(`[data-section="${step}"]`);
    const inputs = section.querySelectorAll('input[required], select[required]');
    let valid = true;

    inputs.forEach(input => {
        if (input.type === 'radio') {
            const group = section.querySelectorAll(`input[name="${input.name}"]`);
            if (!Array.from(group).some(r => r.checked)) valid = false;
        } else if (input.type === 'email') {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!input.value || !emailRegex.test(input.value)) {
                valid = false;
                input.style.borderColor = 'var(--color-error)';
            } else {
                input.style.borderColor = '';
            }
        } else if (!input.value) {
            valid = false;
            input.style.borderColor = 'var(--color-error)';
        } else {
            input.style.borderColor = '';
        }
            });

            if (!valid) {
                alert('Preencha todos os campos obrigat√≥rios.');
                return;
            }

            // Update progress
            document.querySelector(`.progress-step[data-step="${step}"]`).classList.remove('active');
            document.querySelector(`.progress-step[data-step="${step}"]`).classList.add('completed');
            document.querySelectorAll('.progress-line')[step - 1]?.classList.add('completed');
            document.querySelector(`.progress-step[data-step="${step + 1}"]`).classList.add('active');

            section.classList.remove('active');
            document.querySelector(`[data-section="${step + 1}"]`).classList.add('active');
        }

        function prevStep(step) {
            document.querySelector(`.progress-step[data-step="${step}"]`).classList.remove('active');
            document.querySelector(`.progress-step[data-step="${step - 1}"]`).classList.remove('completed');
            document.querySelector(`.progress-step[data-step="${step - 1}"]`).classList.add('active');
            document.querySelectorAll('.progress-line')[step - 2]?.classList.remove('completed');

            document.querySelector(`[data-section="${step}"]`).classList.remove('active');
            document.querySelector(`[data-section="${step - 1}"]`).classList.add('active');
        }

        // Campos condicionais
        document.querySelectorAll('input[name="possui_doenca"]').forEach(r => {
            r.addEventListener('change', function() {
                document.getElementById('doenca_desc_group').style.display = this.value === 'Sim' ? 'block' : 'none';
            });
        });

        document.querySelectorAll('input[name="possui_alergia"]').forEach(r => {
            r.addEventListener('change', function() {
                document.getElementById('alergia_desc_group').style.display = this.value === 'Sim' ? 'block' : 'none';
            });
        });

        document.querySelectorAll('input[name="usuario_drogas"]').forEach(r => {
            r.addEventListener('change', function() {
                document.getElementById('drogas_desc_group').style.display = this.value === 'Sim' ? 'block' : 'none';
            });
        });

        document.querySelectorAll('input[name="usa_medicacao"]').forEach(r => {
            r.addEventListener('change', function() {
                document.getElementById('medicacao_desc_group').style.display = this.value === 'Sim' ? 'block' : 'none';
            });
        });

        // Upload files
        document.getElementById('documento').addEventListener('change', function(e) {
            const name = e.target.files[0]?.name || '';
            document.getElementById('fileName1').textContent = name;
            document.getElementById('fileUpload1').classList.toggle('has-file', !!name);
        });

        document.getElementById('comprovante_residencia').addEventListener('change', function(e) {
            const name = e.target.files[0]?.name || '';
            document.getElementById('fileName2').textContent = name;
            document.getElementById('fileUpload2').classList.toggle('has-file', !!name);
        });

        // Submit
        document.getElementById('cadastroForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const webhookUrl = document.getElementById('webhookUrl').value;
            if (!webhookUrl) {
                alert('Configure a URL do Webhook.');
                return;
            }

            const btn = document.getElementById('submitBtn');
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span>Enviando...';

            try {
                const formData = new FormData(this);
                const response = await fetch(webhookUrl, { method: 'POST', body: formData });

                if (response.ok) {
                    document.querySelector('[data-section="3"]').classList.remove('active');
                    document.querySelector('[data-section="success"]').classList.add('active');
                    document.querySelector('.progress').style.display = 'none';
                } else {
                    throw new Error('Erro');
                }
            } catch (error) {
                alert('Erro ao enviar. Tente novamente.');
                btn.disabled = false;
                btn.innerHTML = 'Enviar Cadastro';
            }
        });
    </script>
</body>
</html>
